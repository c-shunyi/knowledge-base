### vue2和vue3响应式原理

### v-if和v-for优先级问题

当它们同时存在于一个节点上时，`v-if` 比 `v-for` 的优先级更高

```vue
<!--
 这会抛出一个错误，因为属性 todo 此时
 没有在该实例上定义
-->
<li v-for="todo in todos" v-if="!todo.isComplete">
  {{ todo.name }}	
</li>
```

在外先包装一层 `<template>` 再在其上使用 `v-for` 可以解决这个问题 (这也更加明显易读)：

```vue
<template v-for="todo in todos">
  <li v-if="!todo.isComplete">
    {{ todo.name }}
  </li>
</template>
```

Tip：

```vue
同时使用 v-if 和 v-for 是不推荐的，因为这样二者的优先级不明显。

两种常见的情况可能导致这种用法：

过滤列表中的项目 (例如，v-for="user in users" v-if="user.isActive")。在这种情况下，可以用一个新的计算属性来替换 users，该属性返回过滤后的列表 (例如 activeUsers)。

避免渲染应该隐藏的列表 (例如 v-for="user in users" v-if="shouldShowUsers")。在这种情况下，将 v-if 移至容器元素 (如 ul、ol)。
```

## for循环中的key的作用

- `key` 这个特殊的属性主要作为 Vue 的虚拟 DOM 算法提示，在比较新旧节点列表时用于识别 vnode
- **预期**：`number | string | symbol`
- **详细信息**
	- 在没有 key 的情况下，Vue 将使用一种最小化元素移动的算法，并尽可能地就地更新/复用相同类型的元素。如果传了 key，则将根据 key 的变化顺序来重新排列元素，并且将始终移除/销毁 key 已经不存在的元素。
	- 同一个父元素下的子元素必须具有**唯一的 key**。重复的 key 将会导致渲染异常。
- 可以用于强制替换一个元素/组件而不是复用它
		- 如有些组件在发生表格列数变化会出现渲染表格异常，需要重新构建表格时，可使用切换key强制刷新表格

### 谈谈你对vue的理解
